<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Handlebars</title>
    <script src='handlebars-v4.0.5.js'></script>
  </head>
  <body>

    <div id='contentDiv'>

    </div>

    <script id='the-template' type='text/x-handlebars-template'>

      <div class='potter-1'>
        <h3>{{title}}</h3>
        {{#with techData}}
          <div class='isbn'>
            {{{isbn}}}
          </div>
          <div class='author'>
            {{{author}}}
          </div>
        {{/with}}
      </div>
    </script>
    <script type='text/javascript'>

      var templateInfo = document.getElementById('the-template').innerHTML;

      var template = Handlebars.compile(templateInfo);

      Handlebars.registerHelper('with', function(context,options){
        return options.fn(context);
      });

      var templateData = template({
        title:'Harry Potter and the Philosopher\'s stone',
        techData:{
          isbn:'0-7475-3269-9',
          author:'J.K.Rowling'
        }
      });

      document.getElementById('content-div').innerHTML += templateData;
    </script>
  </body>
</html>
